
우분투에서 어플리케이션을 설치 후 GNOME Dock에 넣어두면 바로가기처럼 편하게 접근할 수 있다.
그런데, 몇몇 앱은 바로가기 아이콘과 실제로 실행되는 앱이 일치하지 않고 새 창으로 뜬다.

![[../Images/ㅇㅇㅇ.png]]
이렇게 분명 다른 앱들은 실행하면 아이콘 좌측에 붉은 점으로 떠 있는 서비스 개수가 뜨면서 잘 정렬이 되는데
CubeIDE같은 특정 프로그램은 아이콘을 눌러 실행하면 다른 이름을 가진 서비스가 새 창으로 시작된다.


이는 StartupWMClass가 일치하지 않아서 발생하는 문제로, 해당 앱을 실행하는 .desktop 파일을 수정해 해결할 수 있다.

## 1. 실제 WMClass 확인

먼저 수정하고자 하는 앱을 실행한 후, 리눅스 터미널도 실행해 
```bash
xprop | grep WM_CLASS
```
위의 명령어를 입력한다. 이 명령어를 입력한 후 미리 켜 놨던 수정하고자 하는 앱 창을 띄워 보면 마우스 커서가 십자 조준선 모양으로 변경되는데, 이 때 앱 화면의 아무 곳이나 클릭한다.


![[../Images/Pasted image 20250907211628.png]]
클릭하면 위의 사진처럼 해당 앱의 실제 WMClass가 응답으로 나온다.


## 2. .desktop 파일 수정

이후 바로가기 파일인 .desktop 파일을 수정하면 되는데, 일반적으로 아래의 디렉토리 중 하나에 위치해 있다.

```shell
#시스템 전체
usr/share/applications/

#사용자별
~/.local/share/applications/

#Flatpak 패키지
/var/lib/flatpak/exports/share/applications/

#Snap 패키지
/var/lib/snapd/desktop/applications/
```
예시에 사용한 CubeIDE는 전체 사용자용 디렉토리에 위치해 있었다.

위의 디렉토리를 찾아서 내가 수정하고자 하는 앱 아이콘 위에 커서를 대면 뜨는 이름을 찾으면 된다.
만약 비슷한 이름만 있고 똑같은 이름인 .desktop 파일이 없으면 파일을 텍스트 편집기로 열어서
```shell title:"st-stm32cubeide-1.19.0.desktop"
[Desktop Entry]
Name=STMicroelectronics STM32CubeIDE 1.19.0
Comment=STMicroelectronics STM32CubeIDE 1.19.0
GenericName=STM32CubeIDE
Exec=/opt/st/stm32cubeide_1.19.0/stm32cubeide_wayland %F
Icon=/opt/st/stm32cubeide_1.19.0/icon.xpm
Path=/opt/st/stm32cubeide_1.19.0/
Terminal=false
StartupNotify=true
Type=Application
Categories=Development
```
Name 란을 확인해 보면 된다.

해당하는 .desktop 파일을 찾았으면 마찬가지로 텍스트 편집기로 열어서
```shell title:"st-stm32cubeide-1.19.0.desktop"
[Desktop Entry]
Name=STM32CubeIDE 1.19.0
Comment=STMicroelectronics STM32CubeIDE 1.19.0
GenericName=STM32CubeIDE
Exec=/opt/st/stm32cubeide_1.19.0/stm32cubeide_wayland %F
Icon=/opt/st/stm32cubeide_1.19.0/icon.xpm
Path=/opt/st/stm32cubeide_1.19.0/
Terminal=false
StartupNotify=true
Type=Application
Categories=Development

StartupWMClass=STM32CubeIDE
```
위와 같이 맨 마지막 줄에 [[#1. 실제 WMClass 확인]] 에서 확인한 WMClass를 추가해 준다.


```bash
#
update-desktop-database ~/.local/share/applications/
```
이후 