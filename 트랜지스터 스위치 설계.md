
### 1. 트랜지스터 동작 영역

[참고 링크](http://www.ktword.co.kr/test/view/view.php?no=4498)

트랜지스터는 흔히 전류 컨트롤(각 단에 흐르는 전류로 동작을 컨트롤함)이라고 설명한다.
각 단에 흐르는 전류의 따라 트랜지스터의 동작을 제어할 수 있는데, 이를 응용하여 신호를 증폭하거나, 스위치로 사용할 수 있다.

1. (Forward active)순방향 활성 모드
2. Saturation(포화) 모드
3. (Cutoff)차단 모드
4. (Reverse active)역방향 활성 모드
로 크게 4가지의 모드로 분류하는데, 이중 4번 역방향 활성 모드는 공학적으로 크게 응용할게 없어 설명을 생략.

#### 1. 순방향 활성 모드

BJT 트랜지스터의 두 가지 접합(n-p-n 으로 이루어진 두 개의 다이오드라고 생각하면 편함) 중 하나는 순방향 바이어스(전위차가 0.7V 이상), 다른 하나는 역방향 바이어스(0.7V 미만) 일 때의 상황이다.

이 모드에서는 보통 증폭기 회로로 사용한다.
아날로그 회로에서 보통 많이 사용하고, 현재는 스위치 설계가 목적이니 자세한 설명은 생략.


#### 2. 포화 모드

트랜지스터의 두 가지 접합이 모두 순방향으로 바이어스된 상황이다. (Vbe, Vbc 모두 순방향)
이 상황에서는 Ic(콜렉터 전류)가 트랜지스터가 허용하는 만큼 최대한 흐르게 된다.
스위치를 닫은 역할로 사용한다. (High 신호를 줬다거나, 선으로 결선했다고 생각하면 됨)

#### 3. 차단 모드

트랜지스터의 두 가지 접합이 모두 역방향으로 바이어스된 상황이다. (Vbe, Vbc 모두 역방향)
이 상황에서는 트랜지스터가 허용하는 최대 Vce만큼 전류를 차단한다.
스위치를 연 역할로 사용한다. (Low 신호 혹은 결선 해제)


### 2. 저항값 설정

현재 우리는 Basys 3 보드를 사용하여 TR에게 전원 공급, 신호 출력을 모두 할 예정이다.
데이터시트 상 Basys 3 보드의 전원 핀에서 출력 가능한 최대 전류는 1A이고, 데이터 핀에서는 매우 미약한 전류가 흐르기 때문에 데이터 핀으로는 PWM 신호 등을 줄수가 없다.

그렇기 때문에 모터를 돌리는데 필요한 전류는 최대 1A까지 공급 가능한 전원핀을 사용하고, 모터 on/off 혹은 pwm 제어로 사용할 신호선은 데이터 핀으로 사용할 예정이다.

이를 위해 TR 스위치 회로를 설계하려면 데이터 핀으로 Low(0V)를 줄 때는 차단 모드로 모터가 꺼지고, High(3.3V)를 줄 때는 포화 모드로 모터가 켜지게 하면 된다.

![[../Images/Pasted image 20250827143646.png]]
설계한 회로도의 모습. D1 다이오드는 모터의 [역기전력](https://m.blog.naver.com/kspark222/221704758624)이 접지로 흐르는 것을 방지하기 위함이다.

모터가 돌아가는데 필요한 전류를 측정하기 위해 파워 서플라이에 직결해 보면, 정지 상태에서 돌릴 때 순간적으로 150mA정도가 소모되고 모터가 돌기 시작하면 50mA정도를 소모한다.

![[../Images/Pasted image 20250827143905.png]]
데이터시트를 확인해 보면 Vce가 새츄레이션(포화)모드가 되려면 Ic가 100mA, Ib가 10mA일 때 Vce가 0.25V 이하여야 한다고 명시되어 있다.

트랜지스터가 정상적으로 작동하면 Ic = β x Ib  (β : 이득값) 조건을 만족한다.
여기에 위의 데이터시트 조건을 적용해 보면 Ic와 Ib는 대략 10:1 정도의 비율로 맞추어 주면 된다는 것을 확인할 수 있고, 콜렉터 단과 직결된 구동부(모터)가 순간적으로 최대 150mA까지 소모하므로 베이스 단에는 최대 15mA만큼 흘려주면 포화 모드로 작동할 것을 예측할 수 있다.

이를 위해 옴의 법칙을 적용하면, V = I x R 에서
3.3V = 150mA x RΩ
R = 22Ω 으로 구동부 모터는 대략 22Ω의 저항(부하)으로 근사가 가능하다.

또한, 베이스 전류를 설정할 저항값을 계산해 보면
3.3V = 15mA x RΩ
R = 220Ω 으로 베이스 저항이 220Ω일 때 콜렉터 전류에 대략 150mA가 흐르게(회로가 ON) 된다는 것을 알 수 있다.


![[Pasted image 20250831143021.png]]
2SC1815 TR이 감당할수 있는 Ic가 150mA라고 데이터시트에 명시되어 있다.
위에서 저항값을 설정할 때 Ic에 상정한 150mA는 모터가 정지 상태에서 돌아가기 시작할 때 필요한 순간적인 전류일 뿐이고 안정화가 되면 50mA정도를 소모하게 된다.
따라서 회로의 안정성에는 문제가 없을 것으로 보인다.



### 3. 회로 검증

#### 1. 각 정션 바이어스 설정

##### 1. 포화 상태(Base에 High 줄 때)

![[Pasted image 20250831144841.png]]
시뮬레이션 회로도.

포화 상태일 때는 C-B-E(N-P-N) 의 각 PN 접합부가 모두 문턱 전압을 넘겨야 한다.
Vbe >= 0.7V
Vbc >= 0.4V
대략 위와 같은 조건을 모두 만족해야 하는데, 이를 시뮬레이션으로 확인해 보면


![[Pasted image 20250831145216.png]]
Vbe의 경우 887.2mV로 기본적인 조건을 만족함을 알 수 있고,


![[Pasted image 20250831145331.png]]
Vbc의 경우 대략 639mV로 모든 조건을 만족함을 알 수 있다.



##### 2. 차단 상태(Base에 Low 줄 때)

차단 상태일 때는 반대로 모든 접합부가 문턱 전압을 넘지 않으면서 데이터시트에서 제공하는 항복 전압을 넘기지 않아야 한다.(2SC1815의 경우 50V)

이 설계의 경우 전원과 신호 모두 3.3V이므로 후자의 검증은 생략한다.

![[Pasted image 20250831145847.png]]
Vbe의 경우 대략 726.1pV로 문턱 전압(0.7V, 700mV)보다 낮은 것을 확인할 수 있고,


![[Pasted image 20250831150043.png]]
Vbc 또한 대략 -3.3V로 문턱 전압보다 매우 낮아 모든 조건을 만족함을 알 수 있다.


#### 2. Ic 전류 흐름

TR의 베이스 단에 HIGH/LOW 신호를 주었을 때 Ic(TR의 콜렉터 단과 직결된 부하)에 전류가 공급되는지, 차단되는지 확인해 보면

![[Pasted image 20250831150425.png]]
LOW 신호를 주었을 때 부하측에 대략 3.3pA라는 미약전류만이 흐르는 것을 확인할 수 있고,


![[Pasted image 20250831150619.png]]
HIGH 신호를 주었을 때 부하측에 대략 138mA로 실제 계측값인 150mA를 기준으로 오차율은

((150-130)/150)x100 = 8% 로 계측값 대비 실험값이 근접하게 나왔음을 확인할 수 있다.

