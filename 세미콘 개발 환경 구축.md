우분투 최신 버전(25.04) 사용 중 자잘한 버그와 충돌이 너무 많아 LTS 버전으로 회귀하는 김에 셋업 일지를 작성.


[타 저장소 자동 마운트](https://m.blog.naver.com/watney0813/221017927194)
# 1. 우분투 첫 사용시

1. 본인이 프로그램을 이것저것 뜯어보는게 좋아서 미치겠다 하는게 아니면 우분투 LTS 버전 사용을 권장.
2. 어플리케이션 설치 시 SNAP 패키지는 경험상 오류가 많았음. 선택이 가능하면 데비안 패키지 사용 추천.



# 2. Vivado/Vitis 설치

[AMD 공식 문서 참조](https://docs.amd.com/r/en-US/ug1400-vitis-embedded/Installing-the-Vitis-Software-Platform)

## 1. 선행 라이브러리 설치
![[Images/Pasted image 20250904222527.png]]
설치 툴을 이용해 모든 설치가 끝났으면, 비바도 혹은 바이티스 설치 경로에서 scripts 폴더 내 installLibs.sh 셸 파일을 실행해 프로그램에 필요한 라이브러리를 설치한다.

```bash title="설치 명령어"
cd /비바도or바이티스 폴더/scripts
sudo ./installLibs.sh
```


## 2. 케이블 드라이버 설치
![[Images/Pasted image 20250904223302.png]]
위 사진에 나온 것 처럼 비바도/바이티스 경로 내 /data/xicom/cable_drivers/lin64/install_script/install_drivers 에서 드라이버 설치를 진행한다.

```bash title="설치 명령어"
sudo ./install_drivers
sudo ./install_digilent.sh
```







# 3. cubeIDE(STM) 설치

[공홈 설치 링크](https://www.st.com/en/development-tools/stm32cubeide.html)
위 링크에서 데비안 패키지 설치 파일을 다운로드 후 압축 해제.
압축을 해제하면 shell 파일(.sh)이 나오는데, 이것을 설치한다.
파일 이름이 상당히 기니 stm.sh 등 간단한 이름으로 바꾸고 시작하는 것을 추천한다.
```bash title="설치 명령어"
sudo chmod 777 stm.sh
sudo ./stm.sh
```

![[Images/Pasted image 20250904231202.png]]

해당 명령어로 설치를 진행하면 맨 처음에 약관이 나오는데, 키보드의 페이지 다운 버튼을 여러번 눌러 내려간 후 Y를 입력해 모두 동의한다. 
그 이후에도 추가 프로그램(디버그 관련) 설치 및 동의 등 여부를 물어보는데, 마찬가지로 모두 y로 설치하면 된다.


# 4. vsCode 설치 및 AVR 개발환경 만들기

[공홈 설치링크](https://code.visualstudio.com/)

우분투의 App Center에서도 다운로드 받을 수 있지만, SNAP 패키지로 받았을 때 한글 관련 버그가 있다는 제보가 많으니 공홈에서 Debian 패키지로 다운로드 받도록 한다.(본인도 갑자기 걸린 버그임)

## 1. vsCode 설치

```bash title="설치 명령어"
sudo apt install ./code어쩌구저쩌구.deb
```

## 2. AVR 관련 선행 프로그램 설치

[Microchip 공홈](https://www.microchip.com/en-us/tools-resources/develop/microchip-studio/gcc-compilers)

![[Images/Pasted image 20250904233554.png]]
Microchip 홈페이지에서 AVR Toolchain을 설치한다.
리눅스 OS에 ATmega128a(8비트)를 사용할 예정이니 8비트 툴체인을 받아 준다.
설치 후 압축 해제한 폴더는 이후에 vsCode에서 사용해야 하니 찾을 수 있는 경로에 넣어준다.

```bash title="설치 명령어"
sudo apt install cmake
```
위의 명령어로 cmake를 설치해 준다.

## 3. vsCode 설정


### 1. 확장기능 설치

![[Images/Pasted image 20250904234733.png]]
vsCode 좌측 탭에서 Extension 탭을 찾아 사진에 나온 확장기능 중 Github 관련 제외 모두 설치한다.
 
### 2. AVR 컴파일, 디버깅 환경 구축

![[Images/Pasted image 20250904234031.png]]
vsCode 좌상단 File 탭을 클릭해 워크스페이스를 만들거나 이미 있는 폴더를 설정해 준다.


![[Images/Pasted image 20250904235251.png]]
그 후 Extension에서 Cmake에 우클릭 후 설정에 들어간다.